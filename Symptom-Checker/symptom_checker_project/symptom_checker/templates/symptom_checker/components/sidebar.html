<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="sidebar.css">
    <title></title>
</head>
<body>
  <!--Header-->
  <div class="header">
    <button id="toggleSidebar" class="toggle-btn"><i class='bx bx-menu'></i></button> <!-- Button to toggle sidebar -->
    <a href="#" class="title"></a>
    <div class="header-right">
        <a href="#"><i class="bx bx-bell"></i></a>
        <button type="submit" class="SOSBtn" id="openModalBtn">SOS <i class="bx bsx-phone-call"></i></button>
    </div>
  </div>

    <!-- The Modal -->
    <div id="contactModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Contact Emergancy Team</h2>
        <p>In case of urgent medical attention, insert name, location, medical issue and the emergancy will get in touch with you. </p>
        <form id="contactForm">
          <label for="name">Name:</label>
          <input type="text" id="name" name="name" placeholder="Doe Smith" required>
  
          <label for="email">Contact Number:</label>
          <input type="number" name="" id="UserNum" required>
          
          <label for="message">Message:</label>
          <textarea id="message" name="message" placeholder="Explain what you looking for us to development..." required></textarea>
          
          <button type="submit">Send</button>
        </form>
      </div>
    </div>
  
    <!-- Sidebar for navigation -->
  <div class="sidebar">
    <div class="logo-details">
      <!-- Icon and logo name -->
      <i class='bx bx-health'></i>
      <div class="logo_name">Medcare</div>
      <i class='bx bx-menu' id="btn"></i> <!-- Menu button to toggle sidebar -->
    </div>
    <ul class="nav-list">
      <!-- Search bar -->
      <li>
        <i class='bx bx-search'></i>
        <input type="text" placeholder="Search...">
        <span class="tooltip">Search</span>
      </li>
      <!-- List of navigation items -->
      <li>
        <a href="#">
          <i class='bx bx-grid-alt'></i>
          <span class="links_name">Dashboard</span>
        </a>
        <span class="tooltip">Dashboard</span>
      </li>
      <!-- Additional navigation items -->
      <li>
        <a href="./Pages/Treatment.html">
          <i class='bx bx-user'></i>
          <span class="links_name">Treatment Plan</span>
        </a>
        <span class="tooltip">Treatment</span>
      </li>
      <li>
        <a href="./Pages/chat.html">
          <i class='bx bx-chat'></i>
          <span class="links_name">Messages</span>
        </a>
        <span class="tooltip">Messages</span>
      </li>
      <li>
        <a href="#">
          <i class='bx bx-pie-chart-alt-2'></i>
          <span class="links_name">Patient</span>
        </a>
        <span class="tooltip">Patient</span>
      </li>
    
      <li>
        <a href="#">
          <i class='bx bx-cog'></i>
          <span class="links_name">Setting</span>
        </a>
        <span class="tooltip">Setting</span>
      </li>

      <!-- Profile section -->
      <li class="profile">
        <div class="profile-details">
          <!--<img src="profile.jpg" alt="profileImg">-->
          <div class="name_job">
            <div class="name">MedCare</div>
            <div class="job">User</div>
          </div>
        </div>
        <a href="#"><i class='bx bx-log-out' id="log_out"></i></a> <!-- Logout icon -->
      </li>
    </ul>
  </div>

  <!-- Main content area -->
  <section class="home-section">
    <div class="text">Dashboard</div>

    <div class="chat-container">
      <!-- Chat Area -->
      <div class="chat-body" id="chat-body">
        <!-- User Message -->
        <div class="message user-message">
          <div class="user-avatar">
            <img src="user-avatar.png" alt="User Avatar">
          </div>
          <div class="message-content">
            <p>What is the purpose of Medcare</p>
            <span class="timestamp">15m</span>
          </div>
        </div>
  
        <!-- AI Response -->
        <div class="message ai-message">
          <div class="ai-avatar">
            <img src="ai-avatar.png" alt="AI Avatar">
          </div>
          <div class="message-content">
            <img src="/mnt/data/original-aabe321158e9bd852461c551a6e9d70f.png" alt="Image Description" class="message-image">
            <p>Medcare is a AI LLM which assitants individauls with medical or health related, providing realtime approved medical responses in minutes.</p>
            <span class="timestamp">15m</span>
            <div class="message-actions">
              <button class="like-btn">üëç</button>
              <button class="dislike-btn">üëé</button>
              <button class="download-btn" style="font-size: 18px;"><i class='bx bx-download'></i></button>
              <button class="regenerate-btn" style="font-size: 18px;"><i class='bx bx-loader bx-flip-horizontal'></i> </button>
            </div>
          </div>
        </div>
      </div>
  
      <!-- Input Area -->
      <div class="chat-input">
        <input type="text" id="user-input" placeholder="Enter a prompt here...">
        <button onclick="sendMessage()">Send</button>
      </div>
    </div>
  </section>


    <script>
        // Get the sidebar, close button, and search button elements
        let sidebar = document.querySelector(".sidebar");
        let closeBtn = document.querySelector("#btn");
        let searchBtn = document.querySelector(".bx-search");
        let navList = document.querySelector(".nav-list");
        
        // Event listener for the menu button to toggle the sidebar open/close
        closeBtn.addEventListener("click", () => {
          sidebar.classList.toggle("open"); // Toggle the sidebar's open state
          navList.classList.toggle("scroll"); // Toggle scroll state
          menuBtnChange(); // Call function to change button icon
        });
        
        // Event listener for the search button to open the sidebar
        searchBtn.addEventListener("click", () => {
          sidebar.classList.toggle("open");
          navList.classList.toggle("scroll");
          menuBtnChange(); // Call function to change button icon
        });
        
        // Function to change the menu button icon
        function menuBtnChange() {
          if (sidebar.classList.contains("open")) {
            closeBtn.classList.replace("bx-menu", "bx-menu-alt-right"); // Change icon to indicate closing
          } else {
            closeBtn.classList.replace("bx-menu-alt-right", "bx-menu"); // Change icon to indicate opening
          }
        }
        // Get the toggle button element
        let toggleBtn = document.querySelector("#toggleSidebar");
        // Event listener for the sidebar toggle button
        toggleBtn.addEventListener("click", () => {
          sidebar.classList.toggle("open"); // Toggle the sidebar's open state
          navList.classList.toggle("scroll"); // Toggle scroll state
          menuBtnChange(); // Call function to change button icon
        });
        
  function sendMessage() {
  const inputField = document.getElementById("user-input");
  const message = inputField.value.trim();

  if (message) {
    appendMessage("user-message", message);
    inputField.value = "";

    // Simulate bot response
    setTimeout(() => {
      appendMessage("ai-message", "This is an AI-generated response.");
    }, 1000);
  }
}

function appendMessage(type, message) {
  const chatBody = document.getElementById("chat-body");

  const messageDiv = document.createElement("div");
  messageDiv.classList.add("message", type);
  
  const avatarDiv = document.createElement("div");
  avatarDiv.classList.add(type === "user-message" ? "user-avatar" : "ai-avatar");

  const avatarImg = document.createElement("img");
  avatarImg.src = type === "user-message" ? "user-avatar.png" : "ai-avatar.png";
  avatarDiv.appendChild(avatarImg);
  
  const messageContentDiv = document.createElement("div");
  messageContentDiv.classList.add("message-content");
  
  const messageText = document.createElement("p");
  messageText.textContent = message;
  messageContentDiv.appendChild(messageText);

  const timestampSpan = document.createElement("span");
  timestampSpan.classList.add("timestamp");
  timestampSpan.textContent = "Just now";
  messageContentDiv.appendChild(timestampSpan);

  messageDiv.appendChild(avatarDiv);
  messageDiv.appendChild(messageContentDiv);

  chatBody.appendChild(messageDiv);
  chatBody.scrollTop = chatBody.scrollHeight;
}

// Get modal element
var modal = document.getElementById("contactModal");
var openModalBtn = document.getElementById("openModalBtn");
var closeModalBtn = document.getElementsByClassName("close")[0];

openModalBtn.addEventListener("click", openModal);
closeBtn.addEventListener("click", closeModal);
window.addEventListener("click", outsideClick);

function openModal() {
  modal.style.display = "block";
}

function closeModal() {
  modal.style.display = "none";
}

function outsideClick(e) {
  if (e.target == modal) {
    modal.style.display = "none";
  }
}

</script>
</body>
</html>